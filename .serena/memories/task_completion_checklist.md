# タスク完了時のチェックリスト

## 必須確認項目

タスクを完了したら、以下の項目を**必ず**順番に実行して確認する:

### 1. コードフォーマット

```bash
npm run format
```

- Prettierによる自動整形を実行
- タブインデント、シングルクォート等の規約を統一

### 2. リントチェック

```bash
npm run lint
```

- Prettierフォーマットチェック
- ESLintによる構文チェック
- エラーが出た場合は修正必須

### 3. 型チェック

```bash
npm run check
```

- TypeScriptの型エラーがないことを確認
- strict modeでの厳密なチェック

### 4. テスト実行（該当する場合）

```bash
npm run test:unit   # ユニットテスト
npm run test:e2e    # E2Eテスト（必要に応じて）
```

- 既存のテストが壊れていないことを確認
- 新機能追加時は対応するテストも追加

### 5. ビルド確認（大きな変更時）

```bash
npm run build
```

- 本番ビルドが正常に完了することを確認

## Gitコミット前の確認

### ブランチ確認

```bash
git branch
```

- mainブランチで直接作業していないことを確認
- 適切なブランチ名規則に従っているか確認

### 変更内容確認

```bash
git status
git diff
```

- 不要なファイルが含まれていないか確認
- .envなどのシークレット情報が含まれていないか確認

## トラブルシューティング

### ポート競合時

```bash
lsof -i :5173   # 使用中のプロセス確認
kill -9 {PID}   # プロセス終了
```

### 依存関係エラー時

```bash
rm -rf node_modules package-lock.json
npm install
```

### データベース関連エラー時

```bash
# DBファイルの権限確認
ls -la local.db
```

## 重要な注意事項

1. **mainブランチでの直接作業は厳禁**
2. **環境変数やシークレット情報は絶対にコミットしない**
3. **全てのチェックがパスしてからコミット**
4. **不確かな情報は必ず確認してから進める**

## 推奨フロー

1. 機能実装・修正
2. `npm run format` でコード整形
3. `npm run lint` でリントチェック
4. `npm run check` で型チェック
5. `npm run test:unit` でテスト
6. 全て問題なければコミット

この手順を守ることで、品質の高いコードを維持できる。
