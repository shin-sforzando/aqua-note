# Aqua Note - GitHub Issues 管理ドキュメント

このドキュメントは、Aqua Note プロジェクトのシステム完成までに必要なタスクを整理し、GitHub Issue として登録するための計画書です。

## プロジェクト概要

Aqua Note は水槽管理（アクアリウム管理）用のWebアプリケーションで、熱帯魚などの飼育における日々のメンテナンス作業を記録・管理するツールです。

### 開発方針

- **カレンダービュー中心のUI**: 時系列での記録管理を重視し、カレンダーを中心とした直感的なインターフェース
- **国際化対応**: 日本語・英語の2カ国語対応によるグローバル展開
- **アジャイル開発**: 早期にCI/CDを整備し、未完成でも公開状態から段階的に機能を拡充
- **継続的デリバリー**: Cloudflare Pagesでの自動デプロイにより、常に最新版を提供

### 主要機能

#### 無料アカウント（Free）

- 水槽情報の管理（**1つまで**）
- 生体（魚・水草・サンゴ等）の管理
- メンテナンス記録
  - 水換え・清掃
  - 給餌
  - フィルター交換
  - 添加剤投入
  - クーラー・ヒーター設置/撤去
- 水質パラメータの記録と推移グラフ
- **水槽写真の保存**（1枚のみ、更新時は上書き）
- 水槽のシェア機能（公開URL発行）
- HTML埋め込みコード発行機能

#### 有料アカウント（Premium）

- 水槽情報の管理（**無制限**）
- 生体（魚・水草・サンゴ等）の管理
- メンテナンス記録（全種類）
- 水質パラメータの記録と推移グラフ
- **アラート・リマインダー機能**
- **高度な画像アルバム機能**
  - 水槽写真（無制限）
  - 生体写真
  - メンテナンス作業写真
  - その他の写真
  - タグ付け・検索・整理機能
- 水槽のシェア機能（公開URL発行）
- HTML埋め込みコード発行機能
- プレミアムサポート

## タスク分類と優先度

### 優先度の定義

優先度は **0.0〜1.0** の数値で設定します（1.0が最高優先度）

- **1.0**: 緊急対応が必要（バグ修正のデフォルト値）
- **0.8〜0.9**: MVP必須機能、クリティカルな機能
- **0.6〜0.7**: 基本機能として重要
- **0.4〜0.5**: あると便利な機能
- **0.2〜0.3**: 将来的な拡張機能
- **0.0〜0.1**: アイデア段階、優先度未定

## タスク一覧

### 1. 🏗️ インフラ・基盤整備 [Infrastructure]

#### 優先度: 0.95〜1.0（最優先・即座に着手）

- [ ] CI/CD パイプラインの構築
  - GitHub Actions設定
  - テスト自動実行
  - Cloudflare Pagesへの自動デプロイ
  - プレビュー環境の設定
- [ ] 初期デプロイとテスト環境設定
  - Cloudflare Pagesへの接続
  - 環境変数設定
  - Coming Soonページの作成
  - 基本的なテストケース作成
- [ ] ランディングページとサービス基本ページ
  - ランディングページ（トップページ）のデザイン・実装
    - 水中の泡アニメーション背景の実装
    - ヒーローセクションでの没入感演出
  - サービスの特徴・価値提案の明確化
  - Terms of Service（利用規約）ページ
  - Privacy Policy（プライバシーポリシー）ページ
  - 特定商取引法に基づく表記（将来の有料化に備えて）
- [ ] SEO・マーケティング基盤
  - OGP（Open Graph Protocol）設定
  - 構造化データ（JSON-LD）の実装
  - sitemap.xml自動生成
  - robots.txt設定
  - メタタグ最適化（title、description）
  - Google Analytics または Plausible Analytics導入

#### 優先度: 0.8〜0.9（必須基盤）

- [ ] モニタリング・ログ収集
  - エラートラッキング
  - パフォーマンスモニタリング

- [ ] データベーススキーマ設計と実装
  - 水槽、生体、メンテナンス記録、水質パラメータの各テーブル設計
  - Drizzle ORMでのスキーマ定義
  - マイグレーションファイルの作成
- [ ] 認証システムの実装
  - ユーザー登録機能
  - ログイン/ログアウト機能
  - セッション管理
  - パスワードリセット機能
  - 無料/有料アカウントの区別（当面は無料のみ）
- [ ] 基本的なレイアウトコンポーネント作成
  - ヘッダー/フッター
  - ナビゲーションメニュー
  - レスポンシブ対応
  - **カレンダービューコンポーネント**
- [ ] 国際化（i18n）初期設定
  - Paraglideの設定
  - 日本語・英語の基本メッセージ
  - 言語切り替えUI

#### 優先度: 0.6〜0.7（重要基盤）

- [ ] メール送信基盤
  - メール送信プロバイダの選定（Resend、SendGrid等）
  - トランザクションメールの実装
  - メールテンプレートの作成
  - パスワードリセットメール
  - ウェルカムメール（将来用）
  - 通知メール（将来の有料機能用）

- [ ] アカウント管理機能
  - プロフィール設定
  - アカウント設定
  - プラン表示・変更UI（将来用）
  - 使用量の表示（水槽数、画像容量等）
- [ ] Cloudflare D1へのマイグレーション準備
  - アダプター設定
  - 環境変数の整理

### 2. 🐠 コア機能開発 [Core Features]

#### 優先度: 0.8〜0.9（MVP必須機能）

- [ ] 水槽管理機能
  - 水槽情報の登録/編集/削除
  - 水槽一覧表示
  - 水槽詳細ページ
- [ ] 生体管理機能
  - 生体の登録/編集/削除
  - 生体一覧（水槽ごと）
  - 生体詳細情報
  - 基本的な画像アップロード機能
- [ ] 基本的なメンテナンス記録
  - 水換え・清掃記録
  - 給餌記録
  - フィルター交換記録
  - 添加剤投入記録
  - クーラー・ヒーター設置/撤去記録
  - カスタムメンテナンス項目の追加
  - 記録一覧表示
  - **カレンダービュー（中心UI）**

#### 優先度: 0.6〜0.7（基本機能）

- [ ] シェア機能
  - 水槽公開ページの生成
  - 公開URLの発行・管理
  - 公開/非公開の切り替え
  - 閲覧権限の管理
- [ ] HTML埋め込み機能
  - 埋め込みコードの生成
  - ウィジェットのカスタマイズオプション
  - レスポンシブ対応
- [ ] 水質パラメータ記録
  - pH、アンモニア、亜硝酸、硝酸塩等の記録
  - 測定値の入力フォーム
  - 履歴表示
- [ ] グラフ・可視化機能
  - 水質パラメータの推移グラフ
  - メンテナンス頻度の可視化
  - LayerChartを使用したグラフ実装

### 3. 🎨 UI/UX改善 [User Interface]

#### 優先度: 0.8〜0.9（必須UI）

- [ ] ビジュアルアイデンティティ
  - **水中の泡アニメーション背景**
    - 泡がポコポコと上昇するアニメーション
    - CSS/WebGLを使用した軽量実装
    - パフォーマンスに配慮（GPU活用）
    - ユーザー設定でON/OFF可能
  - シンプルで機能的なUIコンポーネント
  - アクアリウムテーマのカラーパレット（青・水色系）

- [ ] フォームバリデーション
  - 入力値の検証
  - エラーメッセージ表示
  - ユーザーフレンドリーなフィードバック
- [ ] モバイル最適化
  - タッチ操作対応
  - スワイプジェスチャー
  - モバイルファーストデザイン

#### 優先度: 0.5〜0.6（UI改善）

- [ ] ダークモード対応
  - テーマ切り替え機能
  - システム設定連携
  - 泡アニメーションの明度調整
- [ ] アニメーション・トランジション
  - ページ遷移効果
  - インタラクティブな要素
  - 水の流れを感じる動き

### 4. 🔔 追加機能 [Additional Features]

#### 優先度: 0.5〜0.6（重要な追加機能）

- [ ] 基本的な画像保存機能（無料アカウント）
  - 水槽写真1枚の保存（上書き更新）
  - サムネイル生成
  - シェア機能でのサムネイル表示
- [ ] データエクスポート機能
  - CSV/PDF形式でのエクスポート
  - バックアップ機能

#### 優先度: 0.3〜0.4（便利機能）

- [ ] 課金システムの実装
  - Stripeとの連携
  - サブスクリプション管理
  - 支払い履歴管理
  - プラン変更・解約処理

- [ ] 高度な画像アルバム機能（有料アカウント限定）
  - 写真の種類別管理
    - 水槽写真（無制限）
    - 生体写真
    - メンテナンス作業写真
    - その他の写真
  - アルバム作成・管理
  - タグ付け・検索機能
  - 一括アップロード
  - Cloudflare R2との連携
  - 容量制限管理（大容量対応）
- [ ] リマインダー・通知機能（有料アカウント限定）
  - 水換え・清掃リマインダー
  - 給餌スケジュール
  - フィルター交換リマインダー
  - 添加剤投入リマインダー
  - 機器メンテナンスリマインダー
  - メール/プッシュ通知
  - 通知の頻度・タイミング設定
  - カスタムリマインダーの作成
- [ ] 複数ユーザー・共有機能（有料アカウント限定）
  - 家族間での水槽管理共有
  - 権限管理
- [ ] テンプレート機能
  - よく使うメンテナンス作業のテンプレート
  - カスタムフィールド

### 5. 🧪 テスト・品質保証 [Testing & QA]

#### 優先度: 0.7〜0.8（必須テスト）

- [ ] コンポーネントカタログ構築
  - **Storybook**の設定とセットアップ
  - UIコンポーネントのストーリー作成
  - インタラクティブなドキュメント化
  - ビジュアルリグレッションテスト基盤

- [ ] ユニットテスト作成
  - コアロジックのテスト
  - **Vitest**でのテスト実装
  - コンポーネントテスト
  - カバレッジレポート設定
- [ ] E2Eテスト作成
  - 主要ユーザーフローのテスト
  - **Playwright**でのテスト実装
  - クロスブラウザテスト
  - モバイルデバイステスト

#### 優先度: 0.5〜0.6（品質向上）

- [ ] パフォーマンス最適化
  - ページロード速度改善
  - データベースクエリ最適化
- [ ] アクセシビリティ対応
  - WCAG準拠
  - スクリーンリーダー対応

### 6. 📚 ドキュメント・サポート [Documentation]

#### 優先度: 0.9（法的文書・最優先）

- [ ] 法的文書の整備
  - Terms of Service（利用規約）
  - Privacy Policy（プライバシーポリシー）
  - 特定商取引法に基づく表記
  - Cookie Policy

#### 優先度: 0.4〜0.5（ドキュメント整備）

- [ ] ユーザーマニュアル作成
  - 使い方ガイド
  - FAQ
- [ ] API ドキュメント
  - エンドポイント仕様
  - データモデル説明

### 7. 🚀 デプロイ・運用 [Deployment & Operations]

#### 優先度: 0.8〜0.9（初回デプロイ）

- [ ] Cloudflare Pages へのデプロイ
  - 本番環境構築
  - ドメイン設定
  - SSL証明書設定

#### 優先度: 0.5〜0.6（運用改善）

- [ ] バックアップ・リストア
  - 定期バックアップ
  - 災害復旧計画

## GitHub Issue テンプレート

### タイトルとラベルのルール

- **機能追加**
  - タイトル: `feat: :+1: [機能の説明]`
  - ラベル: `enhancement` のみ
- **バグ修正**
  - タイトル: `fix: :bug: [バグの説明]`
  - ラベル: `bug` のみ

### Issue テンプレート（機能追加用）

```markdown
タイトル: feat: :+1: [機能名]

## 概要

[追加する機能の簡潔な説明]

## 優先度

0.7

[優先度設定の理由を記載。0.0〜1.0で設定、デフォルトは0.5]

## 背景・目的

[なぜこの機能が必要なのか、どのような価値を提供するのか]

## 実装内容

- [ ] 実装項目1
- [ ] 実装項目2
- [ ] 実装項目3

## 受け入れ条件

- [ ] 機能が正常に動作すること
- [ ] テストが作成されていること
- [ ] ドキュメントが更新されていること

## 技術的考慮事項

- 使用する技術・ライブラリ
- パフォーマンスへの影響
- 既存機能との互換性

## 関連Issue

- #XXX（もしあれば）

ラベル: enhancement
```

### Issue テンプレート（バグ修正用）

```markdown
タイトル: fix: :bug: [バグの説明]

## 概要

[バグの簡潔な説明]

## 優先度

1.0

[バグ修正は原則として最優先。影響が限定的な場合は0.8〜0.9に調整可能]

## 現象

[どのような問題が発生しているか]

## 再現手順

1. 手順1
2. 手順2
3. 手順3

## 期待される動作

[本来どのように動作すべきか]

## 実際の動作

[現在どのように動作しているか]

## 修正内容

- [ ] 原因の特定
- [ ] 修正の実装
- [ ] テストケースの追加

## 環境情報

- ブラウザ:
- OS:
- その他関連情報:

## 関連Issue

- #XXX（もしあれば）

ラベル: bug
```

## マイルストーン設定（アジャイル開発）

### Sprint 0: 基盤構築（〜1週間目）

- **CI/CDパイプライン構築**（即座に着手）
- **初期デプロイとComing Soonページ公開**
- **ランディングページの作成**
- **Terms of Service・Privacy Policy作成**
- 基本的なテスト環境構築
- 国際化（i18n）初期設定

### Sprint 1-2: コアMVP（〜3週間目）

- 基本レイアウトとカレンダービュー
- データベーススキーマ基本設計
- 認証システム（ユーザー登録・ログイン）
- 水槽管理基本機能（1つのみ）
- **デイリーデプロイ開始**

### Sprint 3-4: 記録機能（〜5週間目）

- メンテナンス記録機能
- カレンダーでの記録表示
- 基本的なレスポンシブ対応
- **アルファ版として限定公開**

### Sprint 5-6: データ可視化（〜7週間目）

- 水質パラメータ記録
- グラフ表示機能
- シェア機能の基本実装
- HTML埋め込みコード生成
- **ベータ版として公開**

### Sprint 7-8: 機能拡充（〜9週間目）

- 水槽写真保存機能（1枚のみ）
- 生体管理機能
- データエクスポート機能
- **正式版（無料版）として公開**

### Sprint 9-10: 有料機能準備（〜11週間目）

- 課金システム実装
- 複数水槽管理
- 高度なアルバム機能
- リマインダー機能
- **有料プランの導入**

### 継続的改善（以降）

- ユーザーフィードバック対応
- パフォーマンス最適化
- 新機能の段階的追加
- A/Bテスト実施

## 次のステップ

1. このドキュメントのレビューと優先度の調整
2. 各タスクの工数見積もり
3. GitHub Issueとしての一括登録
4. プロジェクトボードの作成と管理

## 備考

- 各タスクの詳細は、実装時により具体化する
- 優先度は開発の進捗に応じて柔軟に調整する
- ユーザーフィードバックを積極的に取り入れる
